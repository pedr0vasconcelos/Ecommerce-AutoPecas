<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Venda de Terços </title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/produto.css') }}"> 
        <link rel="stylesheet" href="{{ url_for('static', filename='css/botao.css') }}"> 
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>  
             
    </head>
<body>
    <!--Barra de Navegação--> 
    <div class="navbar">
        <div class="header-inner-content">
            <a href="{{ url_for('index') }}" class="logo"><img src="{{ url_for('static', filename='img/logo-garage2.png') }}" alt="Logo"></a>
            <nav>
                <ul>
                    <li><a href="{{ url_for('index') }}">Porcelana</a></li>
                    <li><a href="{{ url_for('index') }}">Pedra Natural</a></li>
                    <li><a href="{{ url_for('index') }}">Cristal</a></li>
                    <li><a href="{{ url_for('index') }}">Pérolas</a></li>
                    <li><a href="{{ url_for('index') }}">Metal</a></li>
                    <li><a href="{{ url_for('index') }}">Emborrachados</a></li>
                </ul>                
            </nav>
            <div class="nav-icon-container">
                <a href="{{ url_for('index') }}">
                    <img src="{{ url_for('static', filename='img/instagram.png') }}" alt="Instagram"/>
                </a>
                <a href="{{ url_for('login') }}">
                    <img src="{{ url_for('static', filename='img/user.png') }}" alt="User"/>
                </a>
                <a href="{{ url_for('carrinho') }}" class="cart-icon">
                    <img src="{{ url_for('static', filename='img/cart.png') }}" alt="Carrinho"/>
                    <!-- Sempre renderize o span para a contagem -->
                    <span id="cart-count" class="cart-count">{{ quantidade_total if quantidade_total > 0 else 0 }}</span>
                </a>
                <img src="{{ url_for('static', filename='img/menu.png') }}" class="menu-button" alt="Menu"/>
            </div>                        
        </div>
    </div>
     <!-- Detalhes do Produto -->
     <main class="product-page">
        <div class="product-container">
            <div class="product-image">
                <img src="{{ url_for('static', filename=produto['imagem']) }}" alt="{{ produto['nome'] }}">
            </div>
            <div class="product-details">
                <h1 class="product-name">{{ produto['nome'] }}</h1>
                <p class="product-price">R$ {{ "%.2f"|format(produto['preco']|float) }}</p>
                <p class="product-description">{{ produto['descricao'] }}</p>
                
                <!-- Formulário para adicionar ao carrinho -->
                <form id="add-to-cart-form" action="{{ url_for('adicionar_ao_carrinho') }}" method="POST">
                    <input type="hidden" name="produto_id" value="{{ produto['id'] }}">
                    <label for="quantity">Quantidade:</label>
                    <div class="quantity-container">
                        <button type="button" class="qty-button decrement"><i class='bx bx-minus'></i></button>
                        <input type="number" id="quantity" name="quantidade" min="1" value="1" class="quantity-input">
                        <button type="button" class="qty-button increment"><i class='bx bx-plus'></i></button>
                    </div>
                    <!-- Botão "Comprar Agora" redireciona ao carrinho -->
                    <div class="button-container">
                        <div class="button-container">
                            <!-- Botão "Comprar Agora" redireciona ao carrinho -->
                            <button type="button" class="comprar-agora" data-carrinho-url="{{ url_for('carrinho') }}">Comprar Agora</button>
                            <!-- Botão "Adicionar ao Carrinho" com animações e SVGs -->
                            <button type="button" class="add-to-cart-button">
                                <svg class="add-to-cart-box box-1" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="24" height="24" rx="2" fill="#ffffff"/>
                                </svg>
                                <svg class="add-to-cart-box box-2" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="24" height="24" rx="2" fill="#ffffff"/>
                                </svg>
                                <svg class="cart-icon-button" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                </svg>
                                <svg class="tick" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                    <path fill="none" d="M0 0h24v24H0V0z"/>
                                    <path fill="#ffffff" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"/>
                                </svg>
                                <span class="add-to-cart">Adicionar ao Carrinho</span>
                                <span class="added-to-cart">Produto Adicionado</span>
                            </button>
                        </div>
    </div>
                </form>                                                               
                <!-- Fim do formulário para adicionar ao carrinho -->                
            </div>
        </div>
    </main>
        
    <footer class="pink-background">
        <div class="page-inner-content footer-content">
            <div class="download-options">
                <p>Baixe nosso Aplicativo</p>
                <p>Baixe nosso Aplicativo para Android e iOS</p>
                <div>
                    <img src="/static/img/play-store.png"/>                                                       
                    <img src="/static/img/app-store.png"/>                    
                </div>
            </div>
            <div class="logo-footer">
                <a href="/index.html" class="logo"><img src="/static/img/Afeto.png"></a>
                <p>Ecommerce de Terços</p>
            </div>
            <div class="links-footer">
                <h3>Links úteis</h3>
                <ul>
                    <li>Cupons</li>
                    <li>Blog Post</li>
                    <li>Políticas</li>
                    <li>Torne-se Afiliado</li>                    
                </ul>
            </div>
        </div>
        <hr class="page-inner-content"/>
        <div class="page-inner-content copyright">
            <p>Copyright 2024 - Pedro Vasconcelos  - Todos os Direitos Reservados</p>
        </div>
    </footer>
    <script src="/static/scripts/script.js"></script>
    <script src="/static/scripts/produto.js"></script>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>    
</body>
</html>